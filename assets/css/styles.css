:root{
  --bg:#0b1020;
  --panel:#131a33;
  --muted:#8ea2c9;
  --text:#f3f6ff;
  --accent:#7aa2ff;
  --ok:#30d158;
  --warn:#ff453a;
}

*{box-sizing:border-box}
body{
  margin:0;
  background:linear-gradient(180deg,#0b1020,#0f1630);
  color:var(--text);
  font-family:system-ui,-apple-system,"Segoe UI",Roboto,Inter,Arial,sans-serif;
}

.wrap{max-width:1080px;margin:32px auto;padding:0 20px}
h1{font-size:26px;margin:0 0 18px}
p.lead{color:var(--muted);margin-top:0}
p.lead.small{font-size:13px;color:var(--muted)}

button{
  font-family:inherit;
  font-size:inherit;
  line-height:inherit;
  cursor:pointer;
}

.btn{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:8px 14px;
  border-radius:8px;
  border:1px solid rgba(122,162,255,.65);
  background:rgba(122,162,255,.15);
  color:var(--text);
  font-weight:600;
  transition:background .2s ease,color .2s ease;
}

.btn:hover{background:rgba(122,162,255,.25)}

.btn-ghost{
  border:1px solid transparent;
  background:rgba(19,26,51,.85);
  color:var(--muted);
  padding:6px 10px;
  border-radius:8px;
  font-size:12px;
}

.btn-ghost.small{padding:6px 12px;font-size:12px;font-weight:600}

.btn-ghost:hover{color:var(--text);border-color:rgba(122,162,255,.35)}

.btn-ghost[disabled]{opacity:.35;cursor:not-allowed;border-color:transparent;color:var(--muted)}

.card-header{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;margin-bottom:12px}

.card{
  background:var(--panel);
  border:1px solid #1e2750;
  border-radius:16px;
  padding:18px;
  box-shadow:0 10px 25px rgba(0,0,0,.25);
  margin-bottom:16px;
}

.card.compact{padding:14px 16px;border-radius:14px}
.card.wide{padding:18px 22px}

.card h2{font-size:18px;margin:0 0 12px}

label{display:block;font-size:13px;color:var(--muted);margin:10px 0 6px}
input[type="number"],
input[type="date"]{
  width:100%;
  padding:10px 12px;
  border-radius:10px;
  border:1px solid #2a356d;
  background:#0f1540;
  color:var(--text);
}

input[readonly]{
  cursor:default;
  color:var(--muted);
  background:#10163a;
}

.inputs-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:10px}
.assumptions-card{margin-bottom:16px}
.assumptions-grid{margin-top:8px}

.tax-summary-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
  gap:16px;
  margin-bottom:18px;
}

.tax-panel{
  background:#0f1540;
  border:1px solid #202a64;
  border-radius:14px;
  padding:18px 16px;
  display:flex;
  flex-direction:column;
  gap:12px;
}

.tax-panel-label{
  font-size:13px;
  font-weight:600;
  letter-spacing:.25px;
  text-transform:uppercase;
  color:var(--muted);
}

.tax-panel-value{
  font-size:28px;
  font-weight:700;
}

.tax-panel.good .tax-panel-value{color:var(--ok)}
.tax-panel.bad .tax-panel-value{color:var(--warn)}

.tax-panel-caption{
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:.3px;
  color:var(--muted);
}

.tax-panel-note{
  font-size:13px;
  color:var(--muted);
  margin:4px 0 0;
}

.tax-panel-note strong{color:var(--text)}

.tax-metrics{display:flex;flex-direction:column;gap:8px}

.table-title{
  margin:0 0 6px;
  font-size:13px;
  letter-spacing:.3px;
  text-transform:uppercase;
  color:var(--muted);
}

.stack{display:flex;gap:6px;flex-wrap:wrap}
.stack-vertical{display:flex;flex-direction:column;gap:10px}
.kv{padding:8px 10px;border-radius:10px;background:#0e1537;border:1px solid #202a64}
.kv div:first-child{font-size:12px;color:var(--muted)}
.kv div:last-child{font-weight:700;margin-top:6px}

.grant-card{background:#0f1540;border:1px solid #202a64;border-radius:10px;padding:12px}
.grant-card+.grant-card{margin-top:12px}
.grant-head{display:flex;align-items:center;justify-content:space-between;gap:8px;margin-bottom:10px}
.grant-head h3{margin:0;font-size:15px;color:var(--text)}
.grant-title[contenteditable="true"]{cursor:text;padding:2px 4px;border-radius:6px;transition:background .15s ease,outline-color .15s ease,outline-width .15s ease}
.grant-title[contenteditable="true"]:focus{outline:2px solid rgba(122,162,255,.45);background:rgba(122,162,255,.12)}
.grant-card label{font-size:10px;text-transform:uppercase;letter-spacing:.3px;color:var(--muted)}
.grant-card input{padding:8px 10px;font-size:13px}

.empty-state{padding:18px;border:1px dashed #2a356d;border-radius:12px;text-align:center;color:var(--muted);font-size:13px}

table{width:100%;border-collapse:collapse;margin-top:10px;font-size:13px}
th,td{padding:10px;border-bottom:1px solid #24306b;text-align:right}
th:first-child,td:first-child{text-align:left}
tfoot td{font-weight:700}

.tax-panel.good{border:1px solid rgba(48,209,88,.5);box-shadow:0 0 0 1px rgba(48,209,88,.2) inset,0 10px 25px rgba(0,0,0,.25)}
.tax-panel.bad{border:1px solid rgba(255,69,58,.45);box-shadow:0 0 0 1px rgba(255,69,58,.2) inset,0 10px 25px rgba(0,0,0,.25)}
